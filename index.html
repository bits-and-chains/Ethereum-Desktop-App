<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">

    <title>Cryptocurrency Price App</title>

    <!-- Local CSS -->
    <link rel="stylesheet" href="./css/index.css">

        <!-- Local JavaScript -->
    <script src="./js/index.js"></script>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css?family=Catamaran" rel="stylesheet">


    <!-- Custom styles for this template -->
    <link href="./css/starter-template.css" rel="stylesheet">
  </head>

  <body>

    <nav class="navbar navbar-expand-md navbar-inverse bg-inverse fixed-top">
      <a class="navbar-brand crypto-title" href="https://www.bitsandchains.com">Crytocurrency Price</a>
    </nav>

    <div class="container">

      <div class="starter-template">
        <h1 class="crypto-price float-left"></h1>
        <div class="cryptobuttons float-right">
          <button class="eth-button btn btn-secondary">ETH</button>
          <button class="btc-button btn btn-secondary">BTC</button>
        </div>
      </div>

    </div><!-- /.container -->
    <!-- Script for App -->
    <script>
      var $ = require('jquery');
      var request = require('request');


      (function(){
        // Get the Ethereum Price
        request("https://min-api.cryptocompare.com/data/price?fsym=ETH&tsyms=USD", function(error, response, body){
          body = JSON.parse(body);
          var eth = body['USD'];

        // Get the Bitcoin Price
         request("https://min-api.cryptocompare.com/data/price?fsym=BTC&tsyms=USD", function(error, response, body){
          body = JSON.parse(body);
          var btc = body['USD'];

        // $('h1').append(btc);
        // Eth and BTC toggling Feature
        $( ".btc-button" ).click(function() {
          $('h1').remove()
          $('.starter-template').append('<h1>')
          $('h1').append('$' + btc);
            });

        // BTC and ETH toggling Feature
        $( ".eth-button" ).click(function() {
          $('h1').remove()
          $('.starter-template').append('<h1>')
          $('h1').append('$' + eth);
            });
          });
        });
      })();


    </script>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  </body>
      <!-- Not sure what render does -->
    <script>
      require('./renderer.js')
    </script>
</html>